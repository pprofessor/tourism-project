# =============================================
# APPLICATION SECURITY CONFIGURATION
# =============================================

# Admin Security
spring.security.user.name=admin
spring.security.user.password=${ADMIN_PASSWORD:SecurePassword123!@#}
spring.security.user.roles=ADMIN

# Session Security
server.servlet.session.timeout=1800
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict
server.servlet.session.tracking-modes=COOKIE

# HTTP Security Headers
server.servlet.session.persistent=true
server.servlet.session.cookie.max-age=1800

# =============================================
# DATABASE & CONNECTION POOL CONFIGURATION
# =============================================

# HikariCP Connection Pool (Optimized for Performance)
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.pool-name=TourismAppPool

# =============================================
# JWT SECURITY CONFIGURATION (CUSTOM PROPERTIES)
# =============================================

# JWT Security - Strong secret with environment variable fallback
app.security.jwt.secret=${JWT_SECRET:your-256-bit-super-secure-jwt-secret-key-minimum-32-chars}
app.security.jwt.expiration=86400000
app.security.jwt.refresh-expiration=604800000
app.security.jwt.issuer=tourism-app
app.security.jwt.audience=tourism-users

# =============================================
# REDIS CACHE & SESSION CONFIGURATION
# =============================================

# Redis Connection
spring.data.redis.host=${REDIS_HOST:redis}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=60000
spring.data.redis.lettuce.pool.max-active=20
spring.data.redis.lettuce.pool.max-idle=10
spring.data.redis.lettuce.pool.min-idle=5
spring.data.redis.lettuce.pool.max-wait=30000

# Cache Configuration (Optimized for Performance)
spring.cache.type=redis
spring.cache.redis.time-to-live=3600000
spring.cache.redis.cache-null-values=false
spring.cache.redis.key-prefix=tourism_
spring.cache.redis.use-key-prefix=true

# =============================================
# APPLICATION PERFORMANCE & MONITORING
# =============================================

# Actuator Endpoints (Security & Monitoring)
management.endpoints.web.exposure.include=health,metrics,info,prometheus
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true

# Modern endpoint access configuration
management.endpoints.web.base-path=/actuator
management.endpoint.health.access=read-only
management.endpoint.metrics.access=read-only
management.endpoint.info.access=read-only
management.endpoint.prometheus.access=read-only

# Metrics configuration with modern properties
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.enable.jvm=true
management.metrics.enable.system=true

# Prometheus metrics export
management.prometheus.metrics.export.enabled=true

# =============================================
# SPRING BOOT & MVC CONFIGURATION
# =============================================

# Allow bean overriding for CORS config
spring.main.allow-bean-definition-overriding=true

# Server Configuration
server.port=8080
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# HTTP/2 Support (if using SSL)
server.http2.enabled=false

# =============================================
# LOGGING CONFIGURATION (SECURITY & AUDIT)
# =============================================

# Security Logging
logging.level.com.tourism.app.security=DEBUG
logging.level.org.springframework.security=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n

# =============================================
# FILE UPLOAD CONFIGURATION
# =============================================

# File Upload Limits
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.enabled=true

# =============================================
# CORS & SECURITY HEADERS CONFIGURATION
# =============================================

# CORS Configuration (to be implemented in WebConfig)
app.security.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,https://tourism-app.com}
app.security.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.security.cors.allowed-headers=*
app.security.cors.allow-credentials=true

# =============================================
# RATE LIMITING CONFIGURATION
# =============================================

# Rate Limiting (to be implemented with Redis)
app.security.rate-limit.requests-per-minute=100
app.security.rate-limit.burst-capacity=50

# =============================================
# MODERN FEATURES & PERFORMANCE
# =============================================

# Lazy initialization for faster startup
spring.main.lazy-initialization=true

# Graceful shutdown
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# Background pre-initialization
spring.data.redis.repositories.enabled=true